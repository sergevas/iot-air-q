2026-01-20 20:08:29,221 INFO  (main) HHH000204: Processing PersistenceUnitInfo [name: <default>]
2026-01-20 20:08:29,571 INFO  (main) HHH000412: Hibernate ORM core version 7.1.11.Final
2026-01-20 20:08:30,495 INFO  (main) HHH10001005: Database info:
	Database JDBC URL [undefined/unknown]
	Database driver: undefined/unknown
	Database dialect: H2Dialect
	Database version: 2.4.240
	Default catalog/schema: unknown/unknown
	Autocommit mode: undefined/unknown
	Isolation level: <unknown>
	JDBC fetch size: undefined/unknown
	Pool: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-20 20:08:31,610 WARN  (main) The "quarkus.hibernate-orm.database.generation" config property is deprecated and should not be used anymore.
2026-01-20 20:08:33,651 INFO  (main) 1 SQL migrations were detected but not run because they did not follow the filename convention.
2026-01-20 20:08:33,653 INFO  (main) Set 'validateMigrationNaming' to true to fail fast and see a list of the invalid file names.
2026-01-20 20:08:33,869 INFO  (main) Database: jdbc:h2:mem:iot (H2 2.4)
2026-01-20 20:08:33,905 WARN  (main) Using H2 2.4.240 which is newer than the version Flyway has been verified with. The latest verified version of H2 is 2.3.232.
2026-01-20 20:08:34,008 WARN  (main) The configuration option 'createSchemas' is false.
However, the schema history table still needs a schema to reside in.
You must manually create a schema for the schema history table to reside in.
See https://rd.gt/4iUkpm1
2026-01-20 20:08:34,015 INFO  (main) All configured schemas are empty; baseline operation skipped. A baseline or migration script with a lower version than the baseline version may execute if available. Check the Schemas parameter if this is not intended.
2026-01-20 20:08:34,021 INFO  (main) Creating Schema History table "iot"."flyway_schema_history" ...
2026-01-20 20:15:43,088 INFO  (main) HHH000204: Processing PersistenceUnitInfo [name: <default>]
2026-01-20 20:15:43,315 INFO  (main) HHH000412: Hibernate ORM core version 7.1.11.Final
2026-01-20 20:15:44,265 INFO  (main) HHH10001005: Database info:
	Database JDBC URL [undefined/unknown]
	Database driver: undefined/unknown
	Database dialect: H2Dialect
	Database version: 2.4.240
	Default catalog/schema: unknown/unknown
	Autocommit mode: undefined/unknown
	Isolation level: <unknown>
	JDBC fetch size: undefined/unknown
	Pool: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-20 20:15:45,578 WARN  (main) The "quarkus.hibernate-orm.database.generation" config property is deprecated and should not be used anymore.
2026-01-20 20:15:47,659 INFO  (main) 1 SQL migrations were detected but not run because they did not follow the filename convention.
2026-01-20 20:15:47,661 INFO  (main) Set 'validateMigrationNaming' to true to fail fast and see a list of the invalid file names.
2026-01-20 20:15:47,844 INFO  (main) Database: jdbc:h2:mem:iot (H2 2.4)
2026-01-20 20:15:47,866 WARN  (main) Using H2 2.4.240 which is newer than the version Flyway has been verified with. The latest verified version of H2 is 2.3.232.
2026-01-20 20:15:47,957 INFO  (main) Schema history table "IOT"."flyway_schema_history" does not exist yet
2026-01-20 20:15:47,969 INFO  (main) Successfully validated 1 migration (execution time 00:00.057s)
2026-01-20 20:15:48,010 INFO  (main) All configured schemas are empty; baseline operation skipped. A baseline or migration script with a lower version than the baseline version may execute if available. Check the Schemas parameter if this is not intended.
2026-01-20 20:15:48,015 INFO  (main) Creating Schema History table "IOT"."flyway_schema_history" ...
2026-01-20 20:15:48,139 INFO  (main) Current version of schema "IOT": << Empty Schema >>
2026-01-20 20:15:48,161 INFO  (main) Migrating schema "IOT" to version "1.0.0 - iot air q schema init"
2026-01-20 20:15:48,239 INFO  (main) Successfully applied 1 migration to schema "IOT", now at version v1.0.0 (execution time 00:00.032s)
2026-01-20 20:15:51,607 INFO  (main) iot-air-q 0.0.1-SNAPSHOT on JVM (powered by Quarkus 3.30.6) started in 21.857s. Listening on: http://localhost:8081
2026-01-20 20:15:51,609 INFO  (main) Profile test activated. 
2026-01-20 20:15:51,609 INFO  (main) Installed features: [agroal, cdi, compose, flyway, hibernate-orm, jdbc-h2, narayana-jta, rest, rest-client, rest-client-jsonb, rest-jsonb, smallrye-context-propagation, vertx]
2026-01-20 20:15:55,637 INFO  (executor-thread-1) Enter updateSensorNodeInfo(): SensorNodeInfo{ip='192.160.1.104', macAddress='00:1B:44:11:3A:B7'}
2026-01-20 20:15:56,105 WARN  (executor-thread-1) HHH000247: ErrorCode: 42122, SQLState: 42S22
2026-01-20 20:15:56,106 WARN  (executor-thread-1) Column "SNIE1_0.IP" not found; SQL statement:
select snie1_0.id,snie1_0.created,snie1_0.ip,snie1_0.last_modified,snie1_0.mac_address from IOT.iot_air_q_sensor_node_info snie1_0 where snie1_0.mac_address=? [42122-240]
2026-01-20 20:15:56,143 ERROR (executor-thread-1) HTTP Request to /iot-air-q/gateway/sensor-node failed, error id: 3bf3bc6a-9013-4f0d-aea3-7e001052115e-1: org.hibernate.exception.SQLGrammarException: Could not prepare statement [Column "SNIE1_0.IP" not found; SQL statement:
select snie1_0.id,snie1_0.created,snie1_0.ip,snie1_0.last_modified,snie1_0.mac_address from IOT.iot_air_q_sensor_node_info snie1_0 where snie1_0.mac_address=? [42122-240]] [select snie1_0.id,snie1_0.created,snie1_0.ip,snie1_0.last_modified,snie1_0.mac_address from IOT.iot_air_q_sensor_node_info snie1_0 where snie1_0.mac_address=?]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:64)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:34)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:115)
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:198)
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:160)
	at org.hibernate.sql.exec.internal.StandardStatementCreator.createStatement(StandardStatementCreator.java:47)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:271)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:200)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:72)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValues(JdbcSelectExecutorStandardImpl.java:372)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:332)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:135)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:100)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.scroll(JdbcSelectExecutor.java:168)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$2(ConcreteSqmSelectQueryPlan.java:181)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:455)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performScroll(ConcreteSqmSelectQueryPlan.java:395)
	at org.hibernate.query.sqm.internal.SqmQueryImpl.doScroll(SqmQueryImpl.java:462)
	at org.hibernate.query.spi.AbstractSelectionQuery.scroll(AbstractSelectionQuery.java:254)
	at org.hibernate.query.spi.AbstractSelectionQuery.stream(AbstractSelectionQuery.java:270)
	at org.hibernate.query.spi.AbstractSelectionQuery.getResultStream(AbstractSelectionQuery.java:265)
	at dev.sergevas.iot.boundary.persistence.NodeInfoRepository.findByMacAddress(NodeInfoRepository.java:28)
	at dev.sergevas.iot.boundary.persistence.NodeInfoRepository_Subclass.findByMacAddress$$superforward(Unknown Source)
	at dev.sergevas.iot.boundary.persistence.NodeInfoRepository_Subclass$0.apply(Unknown Source)
	at io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)
	at io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)
	at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.invokeInCallerTx(TransactionalInterceptorBase.java:335)
	at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired.doIntercept(TransactionalInterceptorRequired.java:40)
	at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.intercept(TransactionalInterceptorBase.java:61)
	at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired.intercept(TransactionalInterceptorRequired.java:32)
	at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired_Bean.intercept(Unknown Source)
	at io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)
	at io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)
	at io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)
	at dev.sergevas.iot.boundary.persistence.NodeInfoRepository_Subclass.findByMacAddress(Unknown Source)
	at dev.sergevas.iot.boundary.persistence.NodeInfoRepository.save(NodeInfoRepository.java:19)
	at dev.sergevas.iot.boundary.persistence.NodeInfoRepository_Subclass.save$$superforward(Unknown Source)
	at dev.sergevas.iot.boundary.persistence.NodeInfoRepository_Subclass$1.apply(Unknown Source)
	at io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)
	at io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)
	at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.invokeInOurTx(TransactionalInterceptorBase.java:136)
	at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.invokeInOurTx(TransactionalInterceptorBase.java:107)
	at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired.doIntercept(TransactionalInterceptorRequired.java:38)
	at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.intercept(TransactionalInterceptorBase.java:61)
	at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired.intercept(TransactionalInterceptorRequired.java:32)
	at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired_Bean.intercept(Unknown Source)
	at io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)
	at io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)
	at io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)
	at dev.sergevas.iot.boundary.persistence.NodeInfoRepository_Subclass.save(Unknown Source)
	at dev.sergevas.iot.boundary.persistence.NodeInfoRepository_ClientProxy.save(Unknown Source)
	at dev.sergevas.iot.boundary.rest.GatewayResource.updateSensorNodeInfo(GatewayResource.java:26)
	at dev.sergevas.iot.boundary.rest.GatewayResource$quarkusrestinvoker$updateSensorNodeInfo_9dccaf4ddd078b4a0778a42bab7f4977bf33b2da.invoke(Unknown Source)
	at org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)
	at io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:183)
	at org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)
	at io.quarkus.vertx.core.runtime.VertxCoreRecorder$15.runWith(VertxCoreRecorder.java:645)
	at org.jboss.threads.EnhancedQueueExecutor$Task.doRunWith(EnhancedQueueExecutor.java:2651)
	at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2630)
	at org.jboss.threads.EnhancedQueueExecutor.runThreadBody(EnhancedQueueExecutor.java:1622)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1589)
	at org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:11)
	at org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:11)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Column "SNIE1_0.IP" not found; SQL statement:
select snie1_0.id,snie1_0.created,snie1_0.ip,snie1_0.last_modified,snie1_0.mac_address from IOT.iot_air_q_sensor_node_info snie1_0 where snie1_0.mac_address=? [42122-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.expression.ExpressionColumn.getColumnException(ExpressionColumn.java:244)
	at org.h2.expression.ExpressionColumn.optimizeOther(ExpressionColumn.java:226)
	at org.h2.expression.ExpressionColumn.optimize(ExpressionColumn.java:213)
	at org.h2.command.query.Select.optimizeExpressionsAndPreserveAliases(Select.java:1320)
	at org.h2.command.query.Select.prepareExpressions(Select.java:1207)
	at org.h2.command.query.Query.prepare(Query.java:235)
	at org.h2.command.Parser.prepareCommand(Parser.java:492)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:686)
	at io.agroal.pool.wrapper.ConnectionWrapper.prepareStatement(ConnectionWrapper.java:661)
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$4.doPrepare(StatementPreparerImpl.java:158)
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:187)
	... 61 more

2026-01-20 20:15:56,893 INFO  (main) iot-air-q stopped in 0.130s
